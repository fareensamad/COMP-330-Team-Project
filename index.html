<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Musicboxd â€” Appwrite Demo</title>
  <link rel="stylesheet" href="main_styles.css">

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      background-color: #111;
      color: #fff;
      font-family: sans-serif;
    }

    header.header {
      text-align: center;
      padding: 1rem 0;
      background: #1a1a1a;
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
    }

    .main-container {
      display: flex;
      flex-direction: column;
      height: calc(100vh - 100px); /* account for header height */
      width: 100vw;
      gap: 1rem;
      padding: 1rem;
      box-sizing: border-box;
    }

    .card {
      display: flex;
      flex-direction: column;
      background: #222;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    /* Profile card */
    .card:first-of-type {
      flex: 1 1 75%;
    }

    /* Alt card */
    .card.alt {
      flex: 0 0 20%;
      min-height: 200px;
    }

    #profileFrame {
      flex: 1;
      border: none;
      width: 100%;
      height: 100%;
    }

    .profile-container {
      flex: 1;
      width: 100%;
      height: 100%;
      background: #333;
    }

    /* Ping button style */
    #pingBtn {
      background: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 0.6rem 1rem;
      cursor: pointer;
      font-size: 1rem;
    }

    #pingBtn:hover {
      background: #0056cc;
    }

    pre#pingResult {
      margin-top: 0.5rem;
      background: #000;
      padding: 0.5rem;
      border-radius: 6px;
      font-size: 0.9rem;
      color: #0f0;
      white-space: pre-wrap;
      word-break: break-word;
    }
  </style>
</head>

<body>
  <header class="header">
    <h1>ðŸŽµ Musicboxd + Appwrite Frontend Test</h1>
    <p class="subtitle">Appwrite + LocalStorage + Embedded Profile</p>
  </header>

  <main class="main-container">
    <section class="card">
      <h2>User Profile (Embedded)</h2>
      <iframe id="profileFrame" src="profile_index.html" title="Profile"></iframe>
    </section>

    <section class="card alt">
      <h2>Alternative (Inline Load Option)</h2>
      <p>You can also load the profile inline using fetch â€” useful if you need a unified DOM.</p>
      <div id="profileContainer" class="profile-container"></div>

      <h3>Appwrite Ping Test</h3>
      <button id="pingBtn">Send Ping</button>
      <pre id="pingResult"></pre>
    </section>
  </main>

  <script type="module" src="src/testAppwrite.js"></script>
</body>
</html>
